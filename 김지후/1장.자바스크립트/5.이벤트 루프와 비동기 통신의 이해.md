# 1. 싱글 스레드 자바스크립트

자바스크립트는 기본적으로 싱글 스레드(single-threaded)입니다. 즉, 한 번에 하나의 작업만 처리할 수 있습니다.

> 스레드와 프로세스

프로세스: 프로세스는 실행 중인 프로그램으로, 시스템에서 할당받은 메모리 공간, 데이터, 자원 등을 갖습니다. 각 프로세스는 독립적으로 동작하며, 다른 프로세스의 메모리 공간에 직접 접근할 수 없습니다.

스레드: 스레드는 프로세스 내에서 실행되는 하나의 실행 흐름입니다. 각 프로세스는 하나 이상의 스레드를 가질 수 있으며, 같은 프로세스 내의 스레드들은 해당 프로세스의 메모리와 자원을 공유합니다. 즉, 여러 개의 스레드로 동시다발적인 작업을 처리할 수 있습니다.

# 2. 이벤트 루프

> JavaScript Visualizer: https://www.jsv9000.app/

이벤트 루프는 자바스크립트가 싱글 스레드에서 비동기 처리를 수행할 수 있게 하는 핵심 메커니즘입니다. 이벤트 루프는 호출 스택이 비어있는지 확인하고, 태스크 큐에 대기 중인 작업이 있다면 호출 스택에 넣어 실행합니다.

## 호출 스택과 이벤트 루프

호출 스택은 자바스크립트가 함수의 실행 순서를 추적하는데 사용하는 자료 구조입니다. 이벤트 루프는 호출 스택이 비어있을 때만 태스크 큐에서 작업을 가져와 실행합니다. 이를 통해 자바스크립트는 비동기 작업을 순차적으로 처리할 수 있습니다.

# 3. 태스크 큐와 마이크로 태스크 큐

> 태스트 큐: setTImeout, setInterval, setImmediate

태스크 큐는 비동기 작업이 완료되면 그 결과를 저장하는 역할을 합니다. 이벤트 루프는 호출 스택이 비어 있을 때 태스크 큐에서 가장 오래된 작업을 가져와 실행합니다.

> 마이크로 태스트 큐: process.nextTick, Promises, queueMicroTask, MutationObserver

마이크로 태스크 큐는 태스크 큐보다 더 높은 우선순위를 가진 특별한 큐입니다. 프로미스의 결과나 MutationObserver의 콜백 등이 마이크로 태스크 큐에 추가됩니다. 이벤트 루프는 호출 스택이 비어 있을 때마다 마이크로 태스크 큐를 먼저 확인하고, 그 후에 태스크 큐를 확인합니다.

# 4. 정리

자바스크립트는 싱글 스레드 언어지만, 이벤트 루프를 통해 비동기 처리를 효율적으로 수행할 수 있습니다. 이벤트 루프는 호출 스택과 태스크 큐, 마이크로 태스크 큐를 관리하여 작업을 순차적으로 처리합니다.
